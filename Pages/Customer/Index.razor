@page "/customer/index"
@using Demo.Data.Models;
@inject CustomerService customerService;

<div class="row justify-content-center align-items-center">
    <div class="col">
        <h1>Manage Customer</h1>
    </div>
    <div class="col-auto"><a href="/customer/create" class="btn btn-primary" > Add Customer </a></div>
</div>

<hr>

<table class="table table-bordered">
    <thead>
      
        <th>No</th>
        <th>Name</th>
        <th>Age</th>
        <th>Created At</th>
        <th>Action</th>
    </thead>

    <tbody>
        @foreach (var customer in customers)
        {
            <tr>
                <td class="w-auto">@(++count)</td>
                <td>@customer.Name</td>
                <td>@customer.Age</td>
                <td>@customer.CreatedAt</td>
                <td class="text-center">
                     <a href="customer/edit/@customer.Id" class="btn btn-sm btn-info text-light">Edit</a>
                </td>
            </tr>
        }
    </tbody>
</table>


@code{
    Customer customer = new();
    private List<Customer> customers;

    private int count = 0;

    protected override void OnInitialized()
    {
        customers = customerService.AllCustomers();
    }


}